#!/usr/bin/env bash
# shellcheck disable=SC1091

set -euo pipefail
cd "$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )/.."
. 'script/utils.sh'

run "${PWD}/script/setup"

. 'script/import.sh'

generate_requirements() {
    run 'pipenv run pip freeze > requirements.txt'
    sed -i '' '/-e git+git@github.com/d'  'requirements.txt'
}

h1 'Generate requirements.txt'
generate_requirements

h3 'Install clowder at user level'
run pip install --user -e .
