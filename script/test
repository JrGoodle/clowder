#!/usr/bin/env bash

if [ -z "$1" ]; then
    echo 'Requires parameter "cats", "llvm", "swift", "offline", or "all"'
    exit 1
fi

cd "$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )" || exit 1

if [ $1 == "python2" ]; then
    ./tests/test_example_cats.sh
    exit
fi

./update

if [ $1 == "cats" ]; then
    ./tests/test_example_cats.sh
elif [ $1 == "llvm" ]; then
    ./tests/test_example_llvm.sh
elif [ $1 == "swift" ]; then
    ./tests/test_example_swift.sh
elif [ $1 == "offline" ]; then
    ./tests/test_cats_offline.sh
elif [ $1 == "all" ]; then
    ./tests/test_example_cats.sh
    ./tests/test_example_llvm.sh
    ./tests/test_example_swift.sh
    ./tests/test_cats_offline.sh
else
    echo 'Requires parameter "cats", "llvm", "swift", "offline", or "all"'
    exit 1
fi
